<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>北极航道科技监测系统</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            tech: {
              dark: 'rgba(15, 23, 42, 0.9)',
              blue: '#06B6D4',
              light: '#7DD3FC',
              alert: '#F87171',
            }
          },
          fontFamily: {
            tech: ['Rajdhani', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .text-glow {
        text-shadow: 0 0 5px rgba(6, 182, 212, 0.9);
      }
      .bg-weak {
        opacity: 0.2;
      }
      .card-border {
        border: 1px solid rgba(6, 182, 212, 0.5);
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body class="m-0 p-0 min-h-screen font-tech">
  <div class="fixed inset-0 -z-10 bg-weak">
    <img src="https://github.com/anlin531/my-project-2/raw/main/111.jpg" alt="极地背景" class="w-full h-full object-cover">
  </div>

  <div class="w-full max-w-sm mx-auto p-3 pt-6"> 
    <div class="bg-tech-dark rounded-xl p-3.5 card-border shadow-[0_0_12px_rgba(6,182,212,0.4)]"> 
      
      <div class="flex flex-col items-center mb-3 pb-2 border-b border-tech-blue/30"> 
        <h1 class="text-xl font-bold text-tech-blue text-glow">北极航道实时监测</h1>
        <p class="text-xs text-tech-light/70 mt-1.5">2024年航行轨迹数据（全程30天）</p> 
        <button id="resetBtn" class="mt-2.5 bg-tech-blue text-tech-dark font-semibold py-0.5 px-2 rounded text-xs hover:bg-tech-light transition-colors">
          <i class="fa fa-refresh mr-0.5"></i>重置演示
        </button>
      </div>

      <div id="waypoint-info" class="space-y-2.5 text-sm min-h-[180px]"> 
        </div>
    </div>
  </div>

  <script>
    // 航点数据 (保持不变)
    const waypoints = [
      {
        name: "太仓港 (启航)",
        lng: "121.1°E",
        lon: "31.6°N",
        time: "2024-08-15 08:00",
        speed: "15节",
        environment: "东海海域，晴，海况良好，全速推进",
        isRisk: false
      },
      {
        name: "宗谷海峡",
        lng: "142.2°E",
        lon: "45.5°N",
        time: "2024-08-18 14:00",
        speed: "14节",
        environment: "北太平洋西风带，偶有5级侧风，能见度优",
        isRisk: false
      },
      {
        name: "白令海峡 (入冰)",
        lng: "168.9°W",
        lon: "65.7°N",
        time: "2024-08-26 06:00",
        speed: "9节",
        environment: "进入北极圈，浮冰密集度3/10，启动冰情监测",
        isRisk: false
      },
      {
        name: "楚科奇海",
        lng: "169.0°W",
        lon: "69.5°N",
        time: "2024-08-28 12:00",
        speed: "7节",
        environment: "冰况加重，密集度5/10，伴有碎冰带",
        isRisk: false
      },
      {
        name: "东西伯利亚海 (最难点)",
        lng: "150.1°E",
        lon: "76.8°N",
        time: "2024-09-02 04:00",
        speed: "4节",
        environment: "警告：遭遇1.2米厚冰脊！密集度8/10，低速破冰",
        isRisk: true
      },
      {
        name: "维利基斯基海峡",
        lng: "103.6°E",
        lon: "77.9°N",
        time: "2024-09-07 10:00",
        speed: "6节",
        environment: "狭窄水道，冰密集度4/10，谨慎通过",
        isRisk: false
      },
      {
        name: "喀拉海",
        lng: "90.3°E",
        lon: "76.5°N",
        time: "2024-09-10 07:00",
        speed: "10节",
        environment: "冰况缓解，薄冰<0.3米，逐步提速",
        isRisk: false
      },
      {
        name: "巴伦支海 (无冰)",
        lng: "50.2°E",
        lon: "72.5°N",
        time: "2024-09-12 15:00",
        speed: "14节",
        environment: "受暖流影响无冰，水温8℃，全速航行",
        isRisk: false
      },
      {
        name: "挪威北角 (抵达)",
        lng: "25.7°E",
        lon: "71.2°N",
        time: "2024-09-14 08:00",
        speed: "12节",
        environment: "抵达终点，西南风4级，航行结束",
        isRisk: false
      }
    ];

    // --- 核心修改：精确匹配秒表记录的时间间隔 ---
    const intervals = [
      20750, // 太仓港(0s) -> 宗谷海峡(20.75s)
      47660, // 宗谷 -> 白令(1m08.41s)
      14530, // 白令 -> 楚科奇(1m22.94s)
      13530, // 楚科奇 -> 东西伯利亚(1m36.47s)
      5250,  // 东西伯利亚 -> 维利基斯基(1m41.72s)
      6950,  // 维利基斯基 -> 喀拉海(1m48.67s)
      8080,  // 喀拉海 -> 巴伦支海(1m56.75s)
      10980, // 巴伦支海 -> 挪威北角(2m07.73s)
      99999  // 终点
    ];

    let currentIndex = 0;
    let timer = null;

    function renderWaypoint(index) {
      const point = waypoints[index];
      const container = document.getElementById('waypoint-info');
      
      const speedColor = point.isRisk ? 'text-tech-alert' : 'text-tech-blue';
      const envColor = point.isRisk ? 'text-tech-alert' : 'text-tech-blue';

      container.style.opacity = "0";
      
      setTimeout(() => {
        container.innerHTML = `
          <div class="border-b border-tech-blue/20 pb-1.5 mb-1.5"> 
            <h2 class="text-base font-bold text-tech-blue text-glow flex justify-between">
              ${point.name}
              <span class="text-xs font-normal text-tech-light/60 self-center">Step ${index + 1}/${waypoints.length}</span>
            </h2>
          </div>
          
          <div class="grid grid-cols-2 gap-x-2 gap-y-2 text-xs"> 
            <div class="flex">
              <span class="text-tech-light/80 w-16">经度 lng:</span>
              <span class="font-semibold text-tech-blue text-left">${point.lng}</span>
            </div>
            <div class="flex">
              <span class="text-tech-light/80 w-16">纬度 lon:</span>
              <span class="font-semibold text-tech-blue text-left">${point.lon}</span>
            </div>
            <div class="flex col-span-2">
              <span class="text-tech-light/80 w-16">时间:</span>
              <span class="font-semibold text-tech-light text-left">${point.time}</span>
            </div>
            <div class="flex">
              <span class="text-tech-light/80 w-16">航速:</span>
              <span class="font-semibold ${speedColor} text-left text-glow">${point.speed}</span>
            </div>
            <div class="flex col-span-2 bg-tech-blue/10 p-1.5 rounded border border-tech-blue/20">
              <span class="text-tech-light/80 w-12 shrink-0">环境:</span>
              <span class="font-semibold ${envColor} text-left leading-tight">${point.environment}</span>
            </div>
          </div>
        `;
        container.style.opacity = "1";
        container.style.transition = "opacity 0.5s ease";
      }, 300);
    }

    function switchWaypoint() {
      renderWaypoint(currentIndex);
      
      // 如果不是最后一个点，继续计时
      if (currentIndex < waypoints.length - 1) {
        timer = setTimeout(() => {
            currentIndex++;
            switchWaypoint();
        }, intervals[currentIndex]);
      }
    }

    function resetDisplay() {
      clearTimeout(timer);
      currentIndex = 0;
      switchWaypoint();
    }

    window.onload = () => {
      // 页面加载后自动开始，请确保视频也是同时开始播放
      switchWaypoint();
      document.getElementById('resetBtn').addEventListener('click', resetDisplay);
    };
  </script>
</body>
</html>
