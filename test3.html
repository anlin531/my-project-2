<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>北极航道科技监测系统</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            tech: {
              dark: 'rgba(15, 23, 42, 0.95)',
              blue: '#06B6D4',
              light: '#7DD3FC',
              alert: '#EF4444', // 更鲜艳的红色
              warn: '#F59E0B',  // 增加一个警告色（黄色）
            }
          },
          fontFamily: {
            tech: ['Rajdhani', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .text-glow {
        text-shadow: 0 0 8px rgba(6, 182, 212, 0.8);
      }
      .text-glow-alert {
        text-shadow: 0 0 8px rgba(239, 68, 68, 0.8);
      }
      .bg-weak {
        opacity: 0.2;
      }
      .card-border {
        border: 1px solid rgba(6, 182, 212, 0.3);
        box-shadow: 0 0 15px rgba(6, 182, 212, 0.15) inset;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body class="m-0 p-0 min-h-screen font-tech overflow-hidden">
  <div class="fixed inset-0 -z-10 bg-weak">
    <img src="https://github.com/anlin531/my-project-2/raw/main/111.jpg" alt="极地背景" class="w-full h-full object-cover">
  </div>

  <div class="fixed top-1 left-1/2 -translate-x-1/2 w-full max-w-sm z-50 p-2"> 
    
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-px h-full bg-gradient-to-b from-transparent via-tech-blue/20 to-transparent -z-10"></div>

    <div class="bg-tech-dark rounded-xl p-2.5 card-border backdrop-blur-sm shadow-2xl"> 
      
      <div class="flex flex-col items-center mb-2 pb-1.5 border-b border-tech-blue/30 relative"> 
        <div class="absolute -left-1 top-1 w-1 h-3 bg-tech-blue"></div> <div class="absolute -right-1 top-1 w-1 h-3 bg-tech-blue"></div>
        
        <h1 class="text-lg font-bold text-tech-blue text-glow tracking-wider">北极航道实时监测</h1>
        <div class="flex items-center gap-2 mt-1">
           <span class="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"></span>
           <p class="text-[10px] text-tech-light/70">LIVE DATA STREAM</p> </div>
        
        <button id="resetBtn" class="mt-1.5 bg-tech-blue/10 border border-tech-blue/50 text-tech-light font-semibold py-0.5 px-2 rounded text-[10px] hover:bg-tech-blue hover:text-tech-dark transition-all duration-300">
          <i class="fa fa-refresh mr-1"></i>REPLAY
        </button>
      </div>

      <div id="waypoint-info" class="space-y-2 text-sm min-h-[180px]"> 
        </div>
    </div>
  </div>

  <script>
    // 航点数据：增加了中间海域，丰富了环境描述
    const waypoints = [
      {
        name: "太仓港 (启航)",
        lng: "121.1°E",
        lon: "31.6°N",
        time: "2024-08-15 08:00",
        speed: "15.0节",
        // 增加长江口特有的浑浊度和繁忙描述
        environment: "长江口水域，能见度5km，航道繁忙。水流平缓，东北风3级。",
        type: "normal"
      },
      {
        // 【新增】太仓与宗谷之间
        name: "日本海 (航行中)",
        lng: "131.5°E",
        lon: "37.2°N",
        time: "En Route...", // 不显示具体到达时间
        speed: "15.5节",
        // 增加对马暖流和浪高描述
        environment: "受对马暖流影响，水温24℃。浪高1.5米，涌浪较小，适合全速航行。",
        type: "transit" 
      },
      {
        name: "宗谷海峡",
        lng: "142.2°E",
        lon: "45.5°N",
        time: "2024-08-18 14:00",
        speed: "14.2节",
        // 增加海峡特有的雾气描述
        environment: "海峡狭窄，伴有局地海雾。洋流流速快，注意避让。",
        type: "normal"
      },
      {
        // 【新增】宗谷与白令之间（西北太平洋）
        name: "西北太平洋 (深海)",
        lng: "156.0°E",
        lon: "52.0°N",
        time: "En Route...",
        speed: "14.8节",
        // 增加深海长涌和气旋描述
        environment: "千岛寒流交汇区，长涌浪，浪高3-4米。受气旋边缘影响，阵风7级。",
        type: "transit"
      },
      {
        name: "白令海峡 (入冰)",
        lng: "168.9°W",
        lon: "65.7°N",
        time: "2024-08-26 06:00",
        speed: "9.0节",
        // 增加浮冰初现的描述
        environment: "进入北极圈，水温骤降至2℃。海面出现散落浮冰（密集度3/10），开始减速。",
        type: "normal"
      },
      {
        name: "楚科奇海",
        lng: "169.0°W",
        lon: "69.5°N",
        time: "2024-08-28 12:00",
        speed: "7.5节",
        // 增加碎冰带描述
        environment: "浮冰密集度增至5/10。多为一年冰，厚度30-50cm，伴有随洋流漂移的碎冰带。",
        type: "normal"
      },
      {
        name: "东西伯利亚海 (重冰区)",
        lng: "150.1°E",
        lon: "76.8°N",
        time: "2024-09-02 04:00",
        speed: "4.0节",
        // 增加冰脊和内部压力的专业描述
        environment: "警告：遭遇1.2米冰脊！冰层内部压力大，密集度8/10。需频繁调整航向避让。",
        type: "danger" // 对应红色
      },
      {
        name: "维利基斯基海峡",
        lng: "103.6°E",
        lon: "77.9°N",
        time: "2024-09-07 10:00",
        speed: "6.0节",
        // 增加“瓶颈”地理特征描述
        environment: "北极航道地理瓶颈。水道狭窄，两岸常有固定冰延伸，需沿中心线谨慎驾驶。",
        type: "warn" // 对应黄色
      },
      {
        name: "喀拉海",
        lng: "90.3°E",
        lon: "76.5°N",
        time: "2024-09-10 07:00",
        speed: "10.5节",
        // 增加“冰窖”解冻的描述
        environment: "驶离重冰区。海况转好，主要为薄冰（<30cm），水面开阔，逐渐提速。",
        type: "normal"
      },
      {
        name: "巴伦支海",
        lng: "50.2°E",
        lon: "72.5°N",
        time: "2024-09-12 15:00",
        speed: "14.5节",
        // 增加北大西洋暖流的描述
        environment: "受北大西洋暖流影响，水温8℃，海面无冰。海况粗糙，有大西洋涌浪。",
        type: "normal"
      },
      {
        name: "挪威北角 (抵达)",
        lng: "25.7°E",
        lon: "71.2°N",
        time: "2024-09-14 08:00",
        speed: "12.0节",
        environment: "顺利抵达终点。巴伦支海西风4级，视野开阔，任务圆满完成。",
        type: "success"
      }
    ];

    // --- 时间间隔计算逻辑 (毫秒) ---
    // 目标锚点：
    // 0s (太仓)
    // 20.75s (宗谷) -> 中间差 20.75s -> 分给 "太仓" 和 "日本海"
    // 68.41s (白令) -> 中间差 47.66s -> 分给 "宗谷" 和 "西北太平洋"
    // ...后续保持原间隔

 
     const intervals = [
      6050,  // 太仓 -> 日本海 (0s -> 5.05s)
      5560,  // 日本海 -> 宗谷 (5.05s -> 10.51s)
      6960,  // 宗谷 -> 西北太平洋 (10.51s -> 17.27s)
      17630, // 西北太平洋 -> 白令 (17.27s -> 34.70s) [最长一段]
      6720,  // 白令 -> 楚科奇 (34.70s -> 41.42s)
      6130,  // 楚科奇 -> 东西伯利亚 (41.42s -> 47.55s)
      4260,  // 东西伯利亚 -> 维利基斯基 (47.55s -> 51.81s)
      3860,  // 维利基斯基 -> 喀拉海 (51.81s -> 55.67s)
      3850,  // 喀拉海 -> 巴伦支海 (55.67s -> 59.52s)
      5050,  // 巴伦支海 -> 挪威北角 (59.52s -> 1m04.57s)
      99999  // 终点

    ];

    let currentIndex = 0;
    let timer = null;

    function renderWaypoint(index) {
      const point = waypoints[index];
      const container = document.getElementById('waypoint-info');
      
      // 样式逻辑
      let titleColor = 'text-tech-blue';
      let valueColor = 'text-tech-light';
      let envBorder = 'border-tech-blue/20 bg-tech-blue/5';

      if (point.type === 'danger') {
        titleColor = 'text-red-500 text-glow-alert';
        valueColor = 'text-red-400';
        envBorder = 'border-red-500/30 bg-red-500/10 animate-pulse';
      } else if (point.type === 'warn') {
        titleColor = 'text-yellow-500';
        valueColor = 'text-yellow-400';
        envBorder = 'border-yellow-500/30 bg-yellow-500/10';
      } else if (point.type === 'transit') {
        titleColor = 'text-tech-light/80 italic'; // 过渡海域用斜体
        envBorder = 'border-tech-blue/10 bg-transparent';
      } else if (point.type === 'success') {
        titleColor = 'text-green-400';
        envBorder = 'border-green-400/30 bg-green-400/10';
      }

      container.style.opacity = "0";
      container.style.transform = "translateY(5px)";
      
      setTimeout(() => {
        container.innerHTML = `
          <div class="border-b border-tech-blue/20 pb-2 mb-2 flex justify-between items-end"> 
            <h2 class="text-lg font-bold ${titleColor} uppercase tracking-wide">
              ${point.name}
            </h2>
            <span class="text-xs font-mono text-tech-light/40 mb-1">DATA FRAME: 0${index + 1}</span>
          </div>
          
          <div class="grid grid-cols-2 gap-x-3 gap-y-3 text-xs font-mono"> 
            <div class="flex flex-col">
              <span class="text-tech-light/50 scale-90 origin-left">LONGITUDE</span>
              <span class="font-semibold text-tech-blue text-sm">${point.lng}</span>
            </div>
            <div class="flex flex-col">
              <span class="text-tech-light/50 scale-90 origin-left">LATITUDE</span>
              <span class="font-semibold text-tech-blue text-sm">${point.lon}</span>
            </div>
            
            <div class="flex flex-col col-span-2 bg-black/20 p-1.5 rounded">
               <div class="flex justify-between items-center">
                  <span class="text-tech-light/50">TIME_UTC+8</span>
                  <span class="font-bold ${valueColor}">${point.time}</span>
               </div>
               <div class="flex justify-between items-center mt-1">
                  <span class="text-tech-light/50">SPEED</span>
                  <span class="font-bold ${valueColor}">${point.speed}</span>
               </div>
            </div>

            <div class="col-span-2 ${envBorder} p-2 rounded border transition-colors duration-500">
              <span class="block text-tech-light/50 mb-1 scale-90 origin-left uppercase">Environment Analysis</span>
              <span class="${valueColor} leading-relaxed block text-justify">
                ${point.environment}
              </span>
            </div>
          </div>
        `;
        container.style.opacity = "1";
        container.style.transform = "translateY(0)";
        container.style.transition = "all 0.4s cubic-bezier(0.4, 0, 0.2, 1)";
      }, 200);
    }

    function switchWaypoint() {
      renderWaypoint(currentIndex);
      
      if (currentIndex < waypoints.length - 1) {
        timer = setTimeout(() => {
            currentIndex++;
            switchWaypoint();
        }, intervals[currentIndex]);
      }
    }

    function resetDisplay() {
      clearTimeout(timer);
      currentIndex = 0;
      switchWaypoint();
    }

    window.onload = () => {
      switchWaypoint();
      document.getElementById('resetBtn').addEventListener('click', resetDisplay);
    };
  </script>
</body>
</html>
